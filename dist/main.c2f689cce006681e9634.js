!function(e){function t(t){for(var r,o,c=t[0],u=t[1],s=t[2],d=0,f=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(l&&l(t);f.length;)f.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={0:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var l=u;i.push(["ERIh",1]),n()}({"9UZ5":function(e,t,n){"use strict";var r=n("XFfr");n.n(r).a},ERIh:function(e,t,n){"use strict";n.r(t);var r=n("oCYn"),a=n("LGjC"),i=n.n(a);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("datepicker",{attrs:{format:"dd/MM/yyyy",name:"Inicio",language:"pt-br",placeholder:"dd/mm/aaaa","wrapper-class":"ui labeled input",disabled:{to:new Date(1973,0,5),from:new Date}},model:{value:e.dateInitial,callback:function(t){e.dateInitial=t},expression:"dateInitial"}}),e._v(" "),n("datepicker",{attrs:{format:"dd/MM/yyyy",name:"Final",language:"pt-br",placeholder:"dd/mm/aaaa","wrapper-class":"ui labeled input",disabled:{to:e.dateInitial?new Date(e.dateInitial):new Date(1973,0,5),from:new Date}},on:{keyup:function(t){e.dateEnd=new Date}},model:{value:e.dateEnd,callback:function(t){e.dateEnd=t},expression:"dateEnd"}}),e._v(" "),n("button",{staticClass:"ui primary button",attrs:{type:"button",disabled:e.isDisabled||e.isLoading},on:{click:function(t){return e.senDate()}}},[e._v("\n    Atualizar data\n  ")])],1)};o._withStripped=!0;n("ijoH");var c=n("oihH");function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l={data:function(){return{dateInitial:new Date((new Date).setMonth((new Date).getMonth()-6)),dateEnd:new Date((new Date).setMonth((new Date).getMonth()-1))}},props:{isLoading:Boolean},components:{Datepicker:n.n(c).a},methods:{formattedDate:function(e,t){var n=u(new Date(e).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/"),3),r=n[0],a=n[1],i=n[2];return"ISO8601"==t?"".concat(i,"-").concat(r,"-").concat(a):"".concat(a,"/").concat(r,"/").concat(i)},senDate:function(){E.$emit("update-dates",this.formattedDate(this.dateInitial,"ISO8601"),this.formattedDate(this.dateEnd,"ISO8601"))}},computed:{isDisabled:function(){if(!this.dateInitial||!this.dateEnd)return!0;var e=this.formattedDate(this.dateInitial),t=this.formattedDate(this.dateEnd),n=function(e){return/^([1-2][0-9]|3[0-1]|0[1-9]|\d)\/(1[0-2]|0[1-9]|\d)\/(20\d{2}|19\d{2})$/.test(e)},r=this.dateEnd.getTime()>=this.dateInitial.getTime(),a=this.dateEnd.getTime()<=(new Date).getTime();return!(n(e)&&n(t)&&r&&a)}},created:function(){var e=this;E.$on("update-series",(function(t){return e.$emit("update-financial",e.formattedDate(e.dateInitial,"ISO8601"),e.formattedDate(e.dateEnd,"ISO8601"),t)}))}},d=n("KHd+"),f=Object(d.a)(l,o,[],!1,null,null,null);f.options.__file="src/components/filter/filter-dates.vue";var p=f.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"series-picker"},[n("ul",{staticClass:"series list"},[e._l(e.activeSeries,(function(t,r){return n("li",{key:r,staticClass:"serie active",on:{click:function(n){return e.clickSerie(t)}}},[e._v("\n      "+e._s(t.name)+"\n    ")])})),e._v(" "),e.inactiveSeries.length>0?n("li",{staticClass:"serie add"},[e._v("\n      adicionar +\n      "),n("ul",{staticClass:"list"},e._l(e.inactiveSeries,(function(t,r){return n("li",{key:r,staticClass:"serie",on:{click:function(n){return e.clickSerie(t)}}},[e._v("\n          "+e._s(t.name)+"\n        ")])})),0)]):e._e()],2)])};m._withStripped=!0;var v={data:function(){return{series:[{name:"CDI",code:4391,active:!0},{name:"IPCA",code:433,active:!0},{name:"IGP-M",code:189,active:!0},{name:"INCC",code:192,active:!0},{name:"Ibovespa",code:7832,active:!0},{name:"Ouro",code:7830,active:!1},{name:"Poupança",code:196,active:!1},{name:"SELIC",code:4390,active:!1}]}},methods:{clickSerie:function(e){e.active=!e.active,E.$emit("update-series",this.activeSeriesCode)}},created:function(){var e=this;E.$on("update-dates",(function(t,n){return e.$emit("update-financial",t,n,e.activeSeriesCode)}))},computed:{activeSeries:function(){return this.series.filter((function(e){return e.active}))},inactiveSeries:function(){return this.series.filter((function(e){return!e.active}))},activeSeriesCode:function(){return this.activeSeries.map((function(e){return e.code}))}}},h=(n("9UZ5"),Object(d.a)(v,m,[],!1,null,null,null));h.options.__file="src/components/filter/filter-series.vue";var y=h.exports,b=n("GXaE");function g(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=new r.a,E=t.default=D,O=new r.a({el:"#app",data:{names:[],series:[],loading:!0},components:{FilterDates:p,FilterSeries:y},methods:{getValuesSeries:function(e,t,n){var r=document.querySelector(".table-component"),a=r.children.item(1);r.style.height=a>100?"".concat(a.offsetHeight,"px"):"366px",this.loading=!0,b.a.getValuesSeriesService(e,t,JSON.stringify(n)).then(_).catch((function(e){console.error("Augh, there was an error!",e)})).then((function(){r.removeAttribute("style"),O.loading=!1}))}},mounted:function(){var e=S(new Date((new Date).setMonth((new Date).getMonth()-6)).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/"),3),t=e[0],n=e[1],r=e[2],a=S(new Date((new Date).setMonth((new Date).getMonth()-1)).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/"),3),i=a[0],o=a[1],c=a[2];this.getValuesSeries("".concat(r,"-").concat(t,"-").concat(n),"".concat(c,"-").concat(i,"-").concat(o),[4391,433,189,192,7832])}});function C(e){return e?"".concat(e.toFixed(2),"%"):"-"}function _(e){var t=e.data,n=t[0].series.map((function(e){var t=S(e.date.split("-"),2),n=t[0],r=t[1];return"".concat(r,"/").concat(n)}));O.names=t.map((function(e){return e.name})),O.series=n.map((function(e,n){return[e].concat(g(t.map((function(e){return C(e.series[n].value)}))))})),function(e,t,n){var r=e.map((function(e){return{name:e.name,icon:"circle",type:"line",itemStyle:{normal:{color:(t=e.name,{CDI:"#A75A4C",IPCA:"#E6B8D5","IGP-M":"#E8875F",INCC:"#BC9440",Ibovespa:"#5A87A5",Ouro:"#FEE08B","Poupança":"#4C9D6E",SELIC:"#FFFFBF"}[t]||"#8E7298")}},data:e.series};var t})),a=i.a.init(document.getElementById("chart"));window.onresize=function(){a.resize()};var o={series:r,legend:{data:r},tooltip:{trigger:"axis",formatter:function(e,t,r){var a=e.sort((function(e,t){var n=e.data.value,r=t.data.value;return(null===n)-(null===r)||-(n>r)||+(n<r)})).map((function(e){return'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'.concat(e.color,';"></span>').concat(e.seriesName,": ").concat(n(e.data.value))}));return"".concat(e[0].name,"<br>").concat(a.join("<br>"))}},title:{text:""},grid:{height:"70%",show:!0,backgroundColor:"rgba(255, 255, 255, 0.2)"},xAxis:[{type:"category",name:"Datas",nameLocation:"middle",nameGap:30,boundaryGap:!1,inverse:!0,data:t}],yAxis:[{type:"value",name:"Variações dos Índices",nameGap:45,nameLocation:"middle",min:"dataMin",max:"dataMax",axisLabel:{formatter:"{value}%"}}],dataZoom:[{type:"inside",start:0,end:100},{type:"slider",start:0,end:100,handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}]};a.setOption(o,!0)}(t,n,C)}},GXaE:function(e,t,n){"use strict";(function(e){t.a={getValuesSeriesService:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return new Promise((function(a,i){var o=new XMLHttpRequest;o.open("GET","".concat(e.env.VUE_APP_API,"/series?dateInitial=").concat(t,"&dateEnd=").concat(n,"&idGroup=").concat(r)),o.setRequestHeader("content-type","application/json"),o.withCredentials=!1,o.onload=function(){return a(JSON.parse(o.responseText))},o.onerror=function(){return i(o)},o.send()}))}}}).call(this,n("8oxB"))},XFfr:function(e,t,n){},ijoH:function(e,t,n){}});